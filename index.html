<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A-Frame VR Interactive Scene</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.4.2/aframe.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    #info {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px;
      border-radius: 5px;
      z-index: 1000;
      pointer-events: none;
    }
    #loading {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-family: Arial, sans-serif;
      font-size: 20px;
      z-index: 999;
    }
  </style>
</head>
<body>
  <div id="loading">Loading VR Scene...</div>
  
  <div id="info" style="display: none;">
    Click on objects to spin them!<br>
    Drag to look around (Desktop) | VR button for headsets
  </div>

  <a-scene>
    <!-- Sky -->
    <a-sky color="#87CEEB"></a-sky>
    
    <!-- Ground plane -->
    <a-plane 
      position="0 0 0" 
      rotation="-90 0 0" 
      width="20" 
      height="20" 
      color="#7BC8A4">
    </a-plane>

    <!-- Lighting -->
    <a-light type="ambient" color="#BBB"></a-light>
    <a-light type="directional" color="#FFF" intensity="0.6" position="2 4 3"></a-light>

    <!-- Box -->
    <a-box 
      id="box"
      class="clickable"
      position="-2 1.5 -3" 
      rotation="0 45 0" 
      color="#FF6B6B">
    </a-box>

    <!-- Sphere -->
    <a-sphere 
      id="sphere"
      class="clickable"
      position="0 1.5 -3" 
      radius="0.7"
      color="#4ECDC4">
    </a-sphere>

    <!-- Cylinder -->
    <a-cylinder 
      id="cylinder"
      class="clickable"
      position="2 1.5 -3" 
      radius="0.5" 
      height="1.5"
      color="#FFE66D">
    </a-cylinder>

    <!-- Camera with cursor -->
    <a-camera>
      <a-cursor
        id="cursor"
        color="#FFFFFF"
        opacity="0.8"
        fuse="false">
      </a-cursor>
    </a-camera>
  </a-scene>

  <script>
    // Hide loading message when scene is ready
    const scene = document.querySelector('a-scene');
    
    if (scene.hasLoaded) {
      init();
    } else {
      scene.addEventListener('loaded', init);
    }
    
    function init() {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('info').style.display = 'block';
      
      const clickables = document.querySelectorAll('.clickable');
      
      clickables.forEach(function(element) {
        element.addEventListener('click', function(evt) {
          const objName = this.id;
          console.log('Clicked on: ' + objName);
          
          // Get current rotation
          const currentRotation = this.getAttribute('rotation');
          const newY = parseFloat(currentRotation.y) + 360;
          
          // Add 360-degree spin animation
          this.setAttribute('animation', {
            property: 'rotation',
            to: currentRotation.x + ' ' + newY + ' ' + currentRotation.z,
            dur: 1000,
            easing: 'easeInOutQuad'
          });
        });
        
        // Hover effects
        element.addEventListener('mouseenter', function() {
          this.setAttribute('scale', '1.1 1.1 1.1');
        });
        
        element.addEventListener('mouseleave', function() {
          this.setAttribute('scale', '1 1 1');
        });
      });
    }
  </script>
</body>
</html>
